var db = new websql.Db("db");test("query", function() {	//setup	var sql = "select * from table";	var table = new websql.Table("table", "id", db);	var qry = new websql.Query(sql, [], table);		var str = utils.format("one {0} tow {1}", 0,1);	equal(str, "one 0 tow 1");			qry.append(" where 1=1");	sql += " where 1=1"	equal(qry.sql, sql);		qry.append(" limit {0} offset {1}", 10, 20);	sql += " limit 10 offset 20";	equal(qry.sql, sql);			sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.order("code");	sql += " ORDER BY code";	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.order("code", true);	sql += " ORDER BY code DESC";	equal(qry.sql, sql);		qry.limit(10,20);	sql += " LIMIT 10 OFFSET 20";	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.first();	sql += " LIMIT(1)";	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.last();	sql += " ORDER BY id DESC LIMIT(1)";	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.where(1);	sql += ' WHERE "id" = 1';	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.where("x");	sql += ' WHERE "id" = ?';	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.where({name: 'yassine', 'age <': 30, status: ['single', 'married'] });	sql += ' WHERE "name" = ? AND "age" < ? AND "status" IN (?, ?)';	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.find(1);	sql += ' WHERE "id" = ?';	equal(qry.sql, sql);		sql = "select * from table";	qry = new websql.Query(sql, [], table);		qry.find({name: 'yassine', 'age <': 30}, ["name", "age"]);	sql = 'select name,age from table WHERE "name" = ? AND "age" < ?';	equal(qry.sql, sql);});